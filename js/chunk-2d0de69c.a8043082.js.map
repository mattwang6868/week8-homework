{"version":3,"sources":["webpack:///./src/views/frontend/Favorite.vue?41ef","webpack:///src/views/frontend/Favorite.vue","webpack:///./src/views/frontend/Favorite.vue?26cb","webpack:///./src/views/frontend/Favorite.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","favoritelength","staticClass","_v","_l","item","key","id","preventDefault","goPage","staticStyle","style","backgroundImage","_s","title","deleteFavorite","_f","origin_price","price","goShopping","staticRenderFns","data","products","methods","getProducts","$http","get","url","then","error","response","request","status","getFavoriteList","$store","dispatch","$router","push","console","log","computed","favorite","state","favoriteList","created","component"],"mappings":"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","file":"js/chunk-2d0de69c.a8043082.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(!_vm.favoritelength)?_c('div',[_c('div',{staticClass:\"position-relative\",staticStyle:{\"height\":\"300px\"}},[_c('div',{staticClass:\"position-absolute\",staticStyle:{\"top\":\"0\",\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\",\"background-image\":\"url(https://images.unsplash.com/photo-1525201548942-d8732f6617a0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=30)\",\"background-position\":\"center center\",\"opacity\":\"0.3\"}}),_c('div',{staticClass:\"container d-flex flex-column position-absolute\",staticStyle:{\"left\":\"50%\",\"transform\":\"translate(-50%, -40%)\",\"top\":\"50%\"}},[_c('div',{staticClass:\"row justify-content-center my-auto\"},[_c('div',{staticClass:\"col-md-4 text-center\"},[_c('i',{staticClass:\"fas fa-shopping-cart fa-7x\"}),_c('h1',{staticClass:\"h3 my-3\"},[_vm._v(\"沒有收藏的商品\")]),_c('button',{staticClass:\"btn btn-outline-dark mb-5\",on:{\"click\":function($event){return _vm.goShopping()}}},[_vm._v(\" 去購物 \")])])])])])]):_c('div',{staticClass:\"container\"},[_c('h2',{staticClass:\"font-weight-bold mt-3\"},[_vm._v(\"我的最愛\")]),_c('div',{staticClass:\" row mt-md-5 mt-3 mb-7\"},_vm._l((_vm.favoriteList),function(item){return _c('div',{key:item.id,staticClass:\"col-md-6\"},[_c('div',{staticClass:\"card border-0 mb-4 position-relative position-relative\"},[_c('a',{staticClass:\" text-dark\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(item.id)}}},[_c('div',{staticStyle:{\"height\":\"200px\",\"background-size\":\"cover\",\"background-position\":\"center\",\"text-indent\":\"101%\",\"overflow\":\"hidden\",\"white-space\":\"nowrap\"},style:({backgroundImage: (\"url(\" + (item.imageUrl) + \")\")})},[_vm._v(_vm._s(item.title)+\" \")])]),_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fas fa-times position-absolute border border-danger p-1 \",staticStyle:{\"right\":\"1px\",\"bottom\":\"50px\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteFavorite(item.id)}}},[_vm._v(\"刪除\")])]),_c('div',{staticClass:\"card-body p-0\"},[_c('h4',{staticClass:\"mb-0 mt-3\"},[_c('a',{staticClass:\" text-dark\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(item.id)}}},[_vm._v(_vm._s(item.title))])]),_c('p',{staticClass:\"card-text mb-0\"},[_vm._v(\" 原價 \"),_c('del',{staticClass:\"text-muted \"},[_vm._v(_vm._s(_vm._f(\"money\")(item.origin_price)))]),_vm._v(\" \"),_c('span',[_vm._v(\" 售價 \"+_vm._s(_vm._f(\"money\")(item.price))+\" \")])]),_c('p',{staticClass:\"text-muted mt-3\"})])])])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"></loading>\r\n    <div v-if=\"!favoritelength\">\r\n      <div class=\"position-relative\" style=\"height:300px\">\r\n      <div class=\"position-absolute\" style=\"top:0; bottom:0; left:0; right:0;\r\n      background-image: url(https://images.unsplash.com/photo-1525201548942-d8732f6617a0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=30);\r\n      background-position: center center; opacity: 0.3;\"></div>\r\n      <div class=\"container d-flex flex-column position-absolute\" style=\"left: 50%; transform: translate(-50%, -40%); top: 50%;\">\r\n        <div class=\"row justify-content-center my-auto\">\r\n          <div class=\"col-md-4 text-center\">\r\n            <i class=\"fas fa-shopping-cart fa-7x\"></i>\r\n            <h1 class=\"h3 my-3\">沒有收藏的商品</h1>\r\n            <button class=\"btn btn-outline-dark mb-5\" @click=\"goShopping()\">\r\n              去購物\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n    <div class=\"container\" v-else>\r\n      <h2 class=\"font-weight-bold mt-3\">我的最愛</h2>\r\n      <div class=\" row mt-md-5 mt-3 mb-7\">\r\n        <div class=\"col-md-6\"  v-for=\"item in favoriteList\" :key=\"item.id\">\r\n          <div class=\"card border-0 mb-4 position-relative position-relative\" >\r\n            <a href=\"#\" class=\" text-dark\" @click.prevent=\"goPage(item.id)\"><div style=\"height: 200px; background-size: cover; background-position: center; text-indent:101%; overflow:hidden; white-space:nowrap\"\r\n                :style=\"{backgroundImage: `url(${item.imageUrl})`}\">{{item.title}}\r\n            </div></a>\r\n            <a href=\"#\" class=\"text-danger\">\r\n              <i class=\"fas fa-times position-absolute border border-danger p-1 \" style=\"right: 1px; bottom: 50px\" @click.prevent=\"deleteFavorite(item.id)\">刪除</i>\r\n            </a>\r\n            <div class=\"card-body p-0\">\r\n              <h4 class=\"mb-0 mt-3\"><a href=\"#\" class=\" text-dark\" @click.prevent=\"goPage(item.id)\">{{item.title}}</a></h4>\r\n              <p class=\"card-text mb-0\">  原價 <del class=\"text-muted \">{{item.origin_price | money}}</del> <span> 售價 {{item.price | money}} </span></p>\r\n              <p class=\"text-muted mt-3\"></p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      products: []\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts (num = 1) {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_UUID}/ec/products?page=${num}`\r\n      this.$http.get(url).then(res => {\r\n        this.products = res.data.data\r\n        this.isLoading = false\r\n        this.getFavoriteList()\r\n      }).catch((error) => {\r\n        if (error.response.request.status === 404) {\r\n          this.$bus.$emit('message:push', `${error.response.request.status} 找不到頁面`, 'danger')\r\n        } else {\r\n          this.$bus.$emit('message:push', `${error.response.request.status}${error.response.data.message}`, 'danger')\r\n        }\r\n      })\r\n    },\r\n    getFavoriteList () {\r\n      this.$store.dispatch('getFavoriteList', this.products)\r\n    },\r\n    deleteFavorite (id) {\r\n      this.isLoading = true\r\n      this.$store.dispatch('deleteFavorite', id)\r\n      this.getProducts()\r\n    },\r\n    goShopping () {\r\n      this.$router.push('/products')\r\n    },\r\n    goPage (id) {\r\n      console.log(id)\r\n      this.$router.push(`/detail/${id}`)\r\n    }\r\n  },\r\n  computed: {\r\n    favorite () {\r\n      return this.$store.state.favorite\r\n    },\r\n    favoriteList () {\r\n      return this.$store.state.favoriteList\r\n    },\r\n    favoritelength () {\r\n      return this.$store.state.favoritelength\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Favorite.vue?vue&type=template&id=13016c28&\"\nimport script from \"./Favorite.vue?vue&type=script&lang=js&\"\nexport * from \"./Favorite.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}