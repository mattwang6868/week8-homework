(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d3390cb"],{"3ca3":function(t,e,i){"use strict";var n=i("6547").charAt,a=i("69f3"),s=i("7dd0"),o="String Iterator",r=a.set,c=a.getterFor(o);s(String,"String",(function(t){r(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),i=e.string,a=e.index;return a>=i.length?{value:void 0,done:!0}:(t=n(i,a),e.index+=t.length,{value:t,done:!1})}))},6062:function(t,e,i){"use strict";var n=i("6d61"),a=i("6566");t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(t,e,i){"use strict";var n=i("9bf2").f,a=i("7c73"),s=i("e2cc"),o=i("0366"),r=i("19aa"),c=i("2266"),u=i("7dd0"),d=i("2626"),f=i("83ab"),l=i("f183").fastKey,h=i("69f3"),p=h.set,v=h.getterFor;t.exports={getConstructor:function(t,e,i,u){var d=t((function(t,n){r(t,d,e),p(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=n&&c(n,t[u],t,i)})),h=v(e),g=function(t,e,i){var n,a,s=h(t),o=b(t,e);return o?o.value=i:(s.last=o={index:a=l(e,!0),key:e,value:i,previous:n=s.last,next:void 0,removed:!1},s.first||(s.first=o),n&&(n.next=o),f?s.size++:t.size++,"F"!==a&&(s.index[a]=o)),t},b=function(t,e){var i,n=h(t),a=l(e);if("F"!==a)return n.index[a];for(i=n.first;i;i=i.next)if(i.key==e)return i};return s(d.prototype,{clear:function(){var t=this,e=h(t),i=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete i[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:t.size=0},delete:function(t){var e=this,i=h(e),n=b(e,t);if(n){var a=n.next,s=n.previous;delete i.index[n.index],n.removed=!0,s&&(s.next=a),a&&(a.previous=s),i.first==n&&(i.first=a),i.last==n&&(i.last=s),f?i.size--:e.size--}return!!n},forEach:function(t){var e,i=h(this),n=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),s(d.prototype,i?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),f&&n(d.prototype,"size",{get:function(){return h(this).size}}),d},setStrong:function(t,e,i){var n=e+" Iterator",a=v(e),s=v(n);u(t,e,(function(t,e){p(this,{type:n,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=s(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),d(e)}}},"6d61":function(t,e,i){"use strict";var n=i("23e7"),a=i("da84"),s=i("94ca"),o=i("6eeb"),r=i("f183"),c=i("2266"),u=i("19aa"),d=i("861d"),f=i("d039"),l=i("1c7e"),h=i("d44e"),p=i("7156");t.exports=function(t,e,i){var v=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),b=v?"set":"add",m=a[t],x=m&&m.prototype,y=m,w={},C=function(t){var e=x[t];o(x,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!d(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!d(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(s(t,"function"!=typeof m||!(g||x.forEach&&!f((function(){(new m).entries().next()})))))y=i.getConstructor(e,t,v,b),r.REQUIRED=!0;else if(s(t,!0)){var k=new y,_=k[b](g?{}:-0,1)!=k,$=f((function(){k.has(1)})),E=l((function(t){new m(t)})),S=!g&&f((function(){var t=new m,e=5;while(e--)t[b](e,e);return!t.has(-0)}));E||(y=e((function(e,i){u(e,y,t);var n=p(new m,e,y);return void 0!=i&&c(i,n[b],n,v),n})),y.prototype=x,x.constructor=y),($||S)&&(C("delete"),C("has"),v&&C("get")),(S||_)&&C(b),g&&x.clear&&delete x.clear}return w[t]=y,n({global:!0,forced:y!=m},w),h(y,t),g||i.setStrong(y,t,v),y}},7156:function(t,e,i){var n=i("861d"),a=i("d2bb");t.exports=function(t,e,i){var s,o;return a&&"function"==typeof(s=e.constructor)&&s!==i&&n(o=s.prototype)&&o!==i.prototype&&a(t,o),t}},"7db0":function(t,e,i){"use strict";var n=i("23e7"),a=i("b727").find,s=i("44d2"),o=i("ae40"),r="find",c=!0,u=o(r);r in[]&&Array(1)[r]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},"81b1":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),t._m(0),i("div",{staticClass:"container mt-md-5 mt-3 mb-7"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"accordion border border-bottom border-top-0 border-left-0 border-right-0 mb-3",attrs:{id:"accordionExample"}},t._l(t.categories,(function(e){return i("div",{key:e.id,staticClass:"card border-0"},[i("div",{staticClass:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-left-0 border-right-0",attrs:{id:"headingOne","data-toggle":"collapse","data-target":"#collapseOne"}},[i("div",{staticClass:"d-flex justify-content-between align-items-center"},[i("button",{staticClass:"btn rounded-0  w-100 py-3",on:{click:function(i){return t.chooseCategory(e)}}},[i("h4",{staticClass:"mb-0 font-weight-bold"},[t._v(" "+t._s(e)+" ")])])])])])})),0)]),i("div",{staticClass:"col-md-8"},[t.products?i("div",{staticClass:"row"},t._l(t.products,(function(e){return i("div",{key:e.id,staticClass:"col-md-6"},[i("div",{staticClass:"card border-0 mb-4 position-relative position-relative"},[i("a",{staticClass:" text-dark",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.goPage(e)}}},[i("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center","text-indent":"101%",overflow:"hidden","white-space":"nowrap"},style:{backgroundImage:"url("+e.imageUrl+")"}},[t._v(t._s(e.title)+" ")])]),i("a",{staticClass:"text-danger",attrs:{href:"#"}},[i("i",{staticClass:"far fa-heart position-absolute",staticStyle:{right:"16px",bottom:"60px"},on:{click:function(i){return i.preventDefault(),t.addToFavorite(e.id)}}})]),i("div",{staticClass:"card-body p-0"},[i("h4",{staticClass:"mb-0 mt-3"},[i("a",{staticClass:" text-dark",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.goPage(e)}}},[t._v(t._s(e.title))])]),i("p",{staticClass:"card-text mb-0"},[t._v(" 原價 "),i("del",{staticClass:"text-muted "},[t._v(t._s(t._f("money")(e.origin_price)))]),t._v(" "),i("span",[t._v(" 售價 "+t._s(t._f("money")(e.price))+" ")])]),i("p",{staticClass:"text-muted mt-3"})])])])})),0):t._e()])])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"position-relative d-flex align-items-center justify-content-center",staticStyle:{"min-height":"300px"}},[i("div",{staticClass:"position-absolute",staticStyle:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://images.unsplash.com/photo-1525201548942-d8732f6617a0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=30)","background-position":"center center",opacity:"0.1"}}),i("h2",{staticClass:"font-weight-bold"},[t._v("開始彈吉他吧!")])])}],s=(i("99af"),i("7db0"),i("4160"),i("d3b7"),i("6062"),i("3ca3"),i("159b"),i("ddb0"),{data:function(){return{isLoading:!1,products:[],categories:[],totalPages:[]}},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("71a05497-9279-4af4-a348-48c8c33eca99","/ec/products?page=").concat(e);this.$http.get(i).then((function(e){t.products=e.data.data,t.isLoading=!1})).catch((function(e){404===e.response.request.status?t.$bus.$emit("message:push","".concat(e.response.request.status," 找不到頁面"),"danger"):t.$bus.$emit("message:push","".concat(e.response.request.status).concat(e.response.data.message),"danger")}))},getCategory:function(){var t=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io","/api/").concat("71a05497-9279-4af4-a348-48c8c33eca99","/ec/products"),i=[];this.$http.get(e).then((function(e){for(var n=0;n<e.data.meta.pagination.total_pages;n++)t.totalPages[n]=n+1;t.totalPages.forEach((function(e){t.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("71a05497-9279-4af4-a348-48c8c33eca99","/ec/products?page=").concat(e)).then((function(e){e.data.data.forEach((function(t){i.push(t.category)}));var n=new Set,a=new Set;i.forEach((function(t){n.has(t)?a.add(t):n.add(t)})),t.categories=n,t.isLoading=!1})).catch((function(e){t.isLoading=!1,e.response.request.status,t.$bus.$emit("message:push","".concat(e.response.request.status," 無法顯示產品分類"),"danger")}))}))})).catch((function(e){t.isLoading=!1,e.response.request.status,t.$bus.$emit("message:push","".concat(e.response.request.status," 無法顯示產品分類"),"danger")}))},chooseCategory:function(t){var e=this;this.isLoading=!0,this.products=[],this.totalPages.forEach((function(i){e.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("71a05497-9279-4af4-a348-48c8c33eca99","/ec/products?page=").concat(i)).then((function(i){i.data.data.forEach((function(i){i.category===t&&e.products.push(i)})),e.isLoading=!1})).catch((function(t){t.response.request.status,e.$bus.$emit("message:push","".concat(t.response.request.status," 找不到頁面"),"danger"),e.isLoading=!1}))}))},addToFavorite:function(t){var e=this;console.log(t),this.isLoading=!0;var i=this.favorite.find((function(e){return e===t}));console.log(i),void 0===i?(this.$store.dispatch("addToFavorite",t),this.$bus.$emit("message:push","加入我的最愛!!","success")):this.$bus.$emit("message:push","此商品已加入我的最愛","danger"),setTimeout((function(){e.isLoading=!1}),1e3)},goPage:function(t){this.$router.push("/detail/".concat(t.id))}},computed:{favorite:function(){return this.$store.state.favorite}},created:function(){this.getProducts(),this.getCategory()}}),o=s,r=i("2877"),c=Object(r["a"])(o,n,a,!1,null,null,null);e["default"]=c.exports},bb2f:function(t,e,i){var n=i("d039");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},ddb0:function(t,e,i){var n=i("da84"),a=i("fdbc"),s=i("e260"),o=i("9112"),r=i("b622"),c=r("iterator"),u=r("toStringTag"),d=s.values;for(var f in a){var l=n[f],h=l&&l.prototype;if(h){if(h[c]!==d)try{o(h,c,d)}catch(v){h[c]=d}if(h[u]||o(h,u,f),a[f])for(var p in s)if(h[p]!==s[p])try{o(h,p,s[p])}catch(v){h[p]=s[p]}}}},f183:function(t,e,i){var n=i("d012"),a=i("861d"),s=i("5135"),o=i("9bf2").f,r=i("90e3"),c=i("bb2f"),u=r("meta"),d=0,f=Object.isExtensible||function(){return!0},l=function(t){o(t,u,{value:{objectID:"O"+ ++d,weakData:{}}})},h=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,u)){if(!f(t))return"F";if(!e)return"E";l(t)}return t[u].objectID},p=function(t,e){if(!s(t,u)){if(!f(t))return!0;if(!e)return!1;l(t)}return t[u].weakData},v=function(t){return c&&g.REQUIRED&&f(t)&&!s(t,u)&&l(t),t},g=t.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:v};n[u]=!0}}]);
//# sourceMappingURL=chunk-3d3390cb.0c73ac14.js.map